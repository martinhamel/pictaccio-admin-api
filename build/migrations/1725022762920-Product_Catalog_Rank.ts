import { MigrationInterface, QueryRunner } from "typeorm";

export class ProductCatalogRank1725022762920 implements MigrationInterface {
    name = 'ProductCatalogRank1725022762920';

    public async up(queryRunner: QueryRunner): Promise<void> {
        await queryRunner.query(`ALTER TABLE "admin"."order_assignments" DROP CONSTRAINT "FK_2879b5a864ad805fe7332f68346"`);
        await queryRunner.query(`ALTER TABLE "admin"."order_assignments" DROP CONSTRAINT "FK_3bd89f7a0b002650a06fe8b8797"`);
        await queryRunner.query(`ALTER TABLE "transactional"."product_type_themes" DROP CONSTRAINT "FK_e66dc8fbd7083da0f9394451a38"`);
        await queryRunner.query(`ALTER TABLE "transactional"."product_type_customs" DROP CONSTRAINT "FK_0c931c72554324eea0d7aea4dd4"`);
        await queryRunner.query(`ALTER TABLE "transactional"."products" DROP CONSTRAINT "FK_02f7c9972c12ee9a155bcb53775"`);
        await queryRunner.query(`ALTER TABLE "transactional"."products" DROP CONSTRAINT "FK_9a5f6868c96e0069e699f33e124"`);
        await queryRunner.query(`ALTER TABLE "transactional"."products" DROP CONSTRAINT "FK_c2ef038c5b16485c916206e6614"`);
        await queryRunner.query(`ALTER TABLE "transactional"."subjects" DROP CONSTRAINT "FK_1641cb1733f8c5e8fa1ddc48428"`);
        await queryRunner.query(`ALTER TABLE "admin"."order_checks" DROP CONSTRAINT "FK_0d991e7d5a39ab52a4fb0d796d0"`);
        await queryRunner.query(`ALTER TABLE "admin"."order_checks" DROP CONSTRAINT "FK_8d768c9bb463fa40aaeaec3183a"`);
        await queryRunner.query(`ALTER TABLE "admin"."order_statuses" DROP CONSTRAINT "FK_3ea5b2fdf48f16b209b65e73812"`);
        await queryRunner.query(`ALTER TABLE "transactional"."subject_groups" DROP CONSTRAINT "FK_63303b125c10fbf6b8b68746dff"`);
        await queryRunner.query(`ALTER TABLE "transactional"."transactions" DROP CONSTRAINT "FK_3cb0558ed36997f1d9ecc1118e7"`);
        await queryRunner.query(`ALTER TABLE "transactional"."orders" DROP CONSTRAINT "FK_382ec81f8325ade1575566bc247"`);
        await queryRunner.query(`ALTER TABLE "transactional"."orders" DROP CONSTRAINT "FK_4a911af0c90c68d0d98e491cc53"`);
        await queryRunner.query(`ALTER TABLE "transactional"."orders" DROP CONSTRAINT "FK_888a3cde613b4715d58b6fe3f50"`);
        await queryRunner.query(`ALTER TABLE "admin"."order_published_photos" DROP CONSTRAINT "FK_1b0fe441f520a4f3963e60ba4ee"`);
        await queryRunner.query(`ALTER TABLE "admin"."order_published_photos" DROP CONSTRAINT "FK_92f26e2487366389647a05a0696"`);
        await queryRunner.query(`ALTER TABLE "transactional"."promo_codes" DROP CONSTRAINT "FK_661c8ba3e4b0a06d4d674be9afd"`);
        await queryRunner.query(`ALTER TABLE "transactional"."promo_codes" DROP CONSTRAINT "FK_98dcaf14558d13f98e1892b0231"`);
        await queryRunner.query(`ALTER TABLE "transactional"."delivery_option_groups_delivery_options_map" DROP CONSTRAINT "FK_87bba13d85cde654dbe40156ce3"`);
        await queryRunner.query(`ALTER TABLE "transactional"."delivery_option_groups_delivery_options_map" DROP CONSTRAINT "FK_a5c09c8c77976a30f560303a7ca"`);
        await queryRunner.query(`ALTER TABLE "transactional"."product_catalogs_products_map" DROP CONSTRAINT "FK_425841fde14893607561d02d425"`);
        await queryRunner.query(`ALTER TABLE "transactional"."product_catalogs_products_map" DROP CONSTRAINT "FK_4ab545eb2b4cebf1bd0c580f2fc"`);
        await queryRunner.query(`ALTER TABLE "transactional"."product_crosssells_products_map" DROP CONSTRAINT "FK_bf16abbf86c4f9dcaa7bee3615e"`);
        await queryRunner.query(`ALTER TABLE "transactional"."product_crosssells_products_map" DROP CONSTRAINT "FK_f728147c541f25b4012a4b8d9a7"`);
        await queryRunner.query(`ALTER TABLE "transactional"."sessions_delivery_option_groups_map" DROP CONSTRAINT "FK_c6d2e25bd6ec7e28ea72a19bfe0"`);
        await queryRunner.query(`ALTER TABLE "transactional"."sessions_delivery_option_groups_map" DROP CONSTRAINT "FK_d3e57527080e1da3194fe569772"`);
        await queryRunner.query(`ALTER TABLE "transactional"."sessions_product_catalogs_map" DROP CONSTRAINT "FK_c0be140681442e6f2a3e5b1b90a"`);
        await queryRunner.query(`ALTER TABLE "transactional"."sessions_product_catalogs_map" DROP CONSTRAINT "FK_ca9022b17aa0ac3fc611e26c7f6"`);
        await queryRunner.query(`ALTER TABLE "transactional"."orders_subject_groups_map" DROP CONSTRAINT "FK_e3753bb11e2e27b77368876cb7b"`);
        await queryRunner.query(`ALTER TABLE "transactional"."orders_subject_groups_map" DROP CONSTRAINT "FK_edd67ce806415e4acce76ce68b5"`);
        await queryRunner.query(`ALTER TABLE "transactional"."orders_subjects_map" DROP CONSTRAINT "FK_45ff980d78ba80eb02ff748e9da"`);
        await queryRunner.query(`ALTER TABLE "transactional"."orders_subjects_map" DROP CONSTRAINT "FK_e338c9a2a0cb98d5155d3a95222"`);
        await queryRunner.query(`CREATE TABLE "transactional"."product_catalog_ranks" ("id" BIGSERIAL NOT NULL, "rank" integer NOT NULL, "product_id" bigint NOT NULL, CONSTRAINT "product_catalog_ranks_id_pkey" PRIMARY KEY ("id"))`);
        await queryRunner.query(`CREATE TABLE "transactional"."product_catalog_product_catalog_ranks_map" ("product_catalog_id" bigint NOT NULL, "product_catalog_rank_id" bigint NOT NULL, CONSTRAINT "PK_25b596236e7801e06a49dd21465" PRIMARY KEY ("product_catalog_id", "product_catalog_rank_id"))`);
        await queryRunner.query(`CREATE INDEX "IDX_31b622b667a9cbe0c08f4df443" ON "transactional"."product_catalog_product_catalog_ranks_map" ("product_catalog_id") `);
        await queryRunner.query(`CREATE INDEX "IDX_725db83ede04e9167b86ec5aa7" ON "transactional"."product_catalog_product_catalog_ranks_map" ("product_catalog_rank_id") `);
        await queryRunner.query(`ALTER TABLE "admin"."order_assignments" ADD CONSTRAINT "order_assignments_order_id_fkey" FOREIGN KEY ("order_id") REFERENCES "transactional"."orders"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "admin"."order_assignments" ADD CONSTRAINT "order_assignments_user_id_fkey" FOREIGN KEY ("user_id") REFERENCES "admin"."users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "transactional"."product_type_themes" ADD CONSTRAINT "product_type_themes_theme_set_id_fkey" FOREIGN KEY ("theme_set_id") REFERENCES "transactional"."product_theme_sets"("id") ON DELETE SET NULL ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "transactional"."product_type_customs" ADD CONSTRAINT "product_type_custom_custom_template_id_fkey" FOREIGN KEY ("custom_template_id") REFERENCES "transactional"."product_custom_templates"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "transactional"."products" ADD CONSTRAINT "product_category_id_fkey" FOREIGN KEY ("category_id") REFERENCES "transactional"."product_categories"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "transactional"."products" ADD CONSTRAINT "product_theme_id_fkey" FOREIGN KEY ("theme_id") REFERENCES "transactional"."product_type_themes"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "transactional"."products" ADD CONSTRAINT "product_custom_id_fkey" FOREIGN KEY ("custom_id") REFERENCES "transactional"."product_type_customs"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "transactional"."subjects" ADD CONSTRAINT "subject_session_id_fkey" FOREIGN KEY ("session_id") REFERENCES "transactional"."sessions"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "admin"."order_checks" ADD CONSTRAINT "order_checks_order_id_fkey" FOREIGN KEY ("order_id") REFERENCES "transactional"."orders"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "admin"."order_checks" ADD CONSTRAINT "order_checks_subject_id_fkey" FOREIGN KEY ("subject_id") REFERENCES "transactional"."subjects"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "admin"."order_statuses" ADD CONSTRAINT "order_statuses_order_id_fkey" FOREIGN KEY ("order_id") REFERENCES "transactional"."orders"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "transactional"."subject_groups" ADD CONSTRAINT "subject_group_session_id_fkey" FOREIGN KEY ("session_id") REFERENCES "transactional"."sessions"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "transactional"."transactions" ADD CONSTRAINT "transaction_order_id_fkey" FOREIGN KEY ("order_id") REFERENCES "transactional"."orders"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "transactional"."orders" ADD CONSTRAINT "order_contact_id_fkey" FOREIGN KEY ("contact_id") REFERENCES "transactional"."contacts"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "transactional"."orders" ADD CONSTRAINT "order_delivery_option_id_fkey" FOREIGN KEY ("delivery_option_id") REFERENCES "transactional"."delivery_options"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "transactional"."orders" ADD CONSTRAINT "order_session_id_fkey" FOREIGN KEY ("session_id") REFERENCES "transactional"."sessions"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "admin"."order_published_photos" ADD CONSTRAINT "order_published_photo_order_id_fkey" FOREIGN KEY ("order_id") REFERENCES "transactional"."orders"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "admin"."order_published_photos" ADD CONSTRAINT "order_published_photo_subject_id_fkey" FOREIGN KEY ("subject_id") REFERENCES "transactional"."subjects"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "transactional"."promo_codes" ADD CONSTRAINT "promo_code_campaign_id_fkey" FOREIGN KEY ("campaign_id") REFERENCES "transactional"."promo_code_campaigns"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "transactional"."promo_codes" ADD CONSTRAINT "promo_code_order_id_fkey" FOREIGN KEY ("order_id") REFERENCES "transactional"."orders"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "transactional"."delivery_option_groups_delivery_options_map" ADD CONSTRAINT "delivery_option_groups_delivery_options_map_delivery_option_group_id_fkey" FOREIGN KEY ("delivery_option_group_id") REFERENCES "transactional"."delivery_option_groups"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "transactional"."delivery_option_groups_delivery_options_map" ADD CONSTRAINT "delivery_option_groups_delivery_options_map_delivery_option_id_fkey" FOREIGN KEY ("delivery_option_id") REFERENCES "transactional"."delivery_options"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "transactional"."product_catalog_product_catalog_ranks_map" ADD CONSTRAINT "product_catalog_product_catalog_ranks_map_product_catalog_id_fkey" FOREIGN KEY ("product_catalog_id") REFERENCES "transactional"."product_catalogs"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "transactional"."product_catalog_product_catalog_ranks_map" ADD CONSTRAINT "product_catalog_product_catalog_ranks_map_product_catalog_rank_id_fkey" FOREIGN KEY ("product_catalog_rank_id") REFERENCES "transactional"."product_catalog_ranks"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "transactional"."product_catalogs_products_map" ADD CONSTRAINT "product_catalogs_products_map_product_catalog_id_fkey" FOREIGN KEY ("product_catalog_id") REFERENCES "transactional"."product_catalogs"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "transactional"."product_catalogs_products_map" ADD CONSTRAINT "product_catalogs_products_map_product_id_fkey" FOREIGN KEY ("product_id") REFERENCES "transactional"."products"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "transactional"."product_crosssells_products_map" ADD CONSTRAINT "product_crosssells_products_map_product_crosssell_id_fkey" FOREIGN KEY ("product_crosssell_id") REFERENCES "transactional"."product_crosssells"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "transactional"."product_crosssells_products_map" ADD CONSTRAINT "product_crosssells_products_map_product_id_fkey" FOREIGN KEY ("product_id") REFERENCES "transactional"."products"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "transactional"."sessions_delivery_option_groups_map" ADD CONSTRAINT "sessions_delivery_option_groups_map_session_id_fkey" FOREIGN KEY ("session_id") REFERENCES "transactional"."sessions"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "transactional"."sessions_delivery_option_groups_map" ADD CONSTRAINT "sessions_delivery_option_groups_map_delivery_option_group_id_fkey" FOREIGN KEY ("delivery_option_group_id") REFERENCES "transactional"."delivery_option_groups"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "transactional"."sessions_product_catalogs_map" ADD CONSTRAINT "sessions_product_catalogs_map_session_id_fkey" FOREIGN KEY ("session_id") REFERENCES "transactional"."sessions"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "transactional"."sessions_product_catalogs_map" ADD CONSTRAINT "sessions_product_catalogs_map_product_catalog_id_fkey" FOREIGN KEY ("product_catalog_id") REFERENCES "transactional"."product_catalogs"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "transactional"."orders_subject_groups_map" ADD CONSTRAINT "orders_subject_groups_map_order_id_fkey" FOREIGN KEY ("order_id") REFERENCES "transactional"."orders"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "transactional"."orders_subject_groups_map" ADD CONSTRAINT "orders_subject_groups_map_subject_group_id_fkey" FOREIGN KEY ("subject_group_id") REFERENCES "transactional"."subject_groups"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "transactional"."orders_subjects_map" ADD CONSTRAINT "orders_subjects_map_order_id_fkey" FOREIGN KEY ("order_id") REFERENCES "transactional"."orders"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "transactional"."orders_subjects_map" ADD CONSTRAINT "orders_subjects_map_subject_id_fkey" FOREIGN KEY ("subject_id") REFERENCES "transactional"."subjects"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
    }

    public async down(queryRunner: QueryRunner): Promise<void> {
        await queryRunner.query(`ALTER TABLE "transactional"."orders_subjects_map" DROP CONSTRAINT "orders_subjects_map_subject_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "transactional"."orders_subjects_map" DROP CONSTRAINT "orders_subjects_map_order_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "transactional"."orders_subject_groups_map" DROP CONSTRAINT "orders_subject_groups_map_subject_group_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "transactional"."orders_subject_groups_map" DROP CONSTRAINT "orders_subject_groups_map_order_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "transactional"."sessions_product_catalogs_map" DROP CONSTRAINT "sessions_product_catalogs_map_product_catalog_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "transactional"."sessions_product_catalogs_map" DROP CONSTRAINT "sessions_product_catalogs_map_session_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "transactional"."sessions_delivery_option_groups_map" DROP CONSTRAINT "sessions_delivery_option_groups_map_delivery_option_group_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "transactional"."sessions_delivery_option_groups_map" DROP CONSTRAINT "sessions_delivery_option_groups_map_session_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "transactional"."product_crosssells_products_map" DROP CONSTRAINT "product_crosssells_products_map_product_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "transactional"."product_crosssells_products_map" DROP CONSTRAINT "product_crosssells_products_map_product_crosssell_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "transactional"."product_catalogs_products_map" DROP CONSTRAINT "product_catalogs_products_map_product_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "transactional"."product_catalogs_products_map" DROP CONSTRAINT "product_catalogs_products_map_product_catalog_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "transactional"."product_catalog_product_catalog_ranks_map" DROP CONSTRAINT "product_catalog_product_catalog_ranks_map_product_catalog_rank_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "transactional"."product_catalog_product_catalog_ranks_map" DROP CONSTRAINT "product_catalog_product_catalog_ranks_map_product_catalog_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "transactional"."delivery_option_groups_delivery_options_map" DROP CONSTRAINT "delivery_option_groups_delivery_options_map_delivery_option_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "transactional"."delivery_option_groups_delivery_options_map" DROP CONSTRAINT "delivery_option_groups_delivery_options_map_delivery_option_group_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "transactional"."promo_codes" DROP CONSTRAINT "promo_code_order_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "transactional"."promo_codes" DROP CONSTRAINT "promo_code_campaign_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "admin"."order_published_photos" DROP CONSTRAINT "order_published_photo_subject_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "admin"."order_published_photos" DROP CONSTRAINT "order_published_photo_order_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "transactional"."orders" DROP CONSTRAINT "order_session_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "transactional"."orders" DROP CONSTRAINT "order_delivery_option_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "transactional"."orders" DROP CONSTRAINT "order_contact_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "transactional"."transactions" DROP CONSTRAINT "transaction_order_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "transactional"."subject_groups" DROP CONSTRAINT "subject_group_session_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "admin"."order_statuses" DROP CONSTRAINT "order_statuses_order_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "admin"."order_checks" DROP CONSTRAINT "order_checks_subject_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "admin"."order_checks" DROP CONSTRAINT "order_checks_order_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "transactional"."subjects" DROP CONSTRAINT "subject_session_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "transactional"."products" DROP CONSTRAINT "product_custom_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "transactional"."products" DROP CONSTRAINT "product_theme_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "transactional"."products" DROP CONSTRAINT "product_category_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "transactional"."product_type_customs" DROP CONSTRAINT "product_type_custom_custom_template_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "transactional"."product_type_themes" DROP CONSTRAINT "product_type_themes_theme_set_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "admin"."order_assignments" DROP CONSTRAINT "order_assignments_user_id_fkey"`);
        await queryRunner.query(`ALTER TABLE "admin"."order_assignments" DROP CONSTRAINT "order_assignments_order_id_fkey"`);
        await queryRunner.query(`DROP INDEX "transactional"."IDX_725db83ede04e9167b86ec5aa7"`);
        await queryRunner.query(`DROP INDEX "transactional"."IDX_31b622b667a9cbe0c08f4df443"`);
        await queryRunner.query(`DROP TABLE "transactional"."product_catalog_product_catalog_ranks_map"`);
        await queryRunner.query(`DROP TABLE "transactional"."product_catalog_ranks"`);
        await queryRunner.query(`ALTER TABLE "transactional"."orders_subjects_map" ADD CONSTRAINT "FK_e338c9a2a0cb98d5155d3a95222" FOREIGN KEY ("subject_id") REFERENCES "transactional"."subjects"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "transactional"."orders_subjects_map" ADD CONSTRAINT "FK_45ff980d78ba80eb02ff748e9da" FOREIGN KEY ("order_id") REFERENCES "transactional"."orders"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "transactional"."orders_subject_groups_map" ADD CONSTRAINT "FK_edd67ce806415e4acce76ce68b5" FOREIGN KEY ("subject_group_id") REFERENCES "transactional"."subject_groups"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "transactional"."orders_subject_groups_map" ADD CONSTRAINT "FK_e3753bb11e2e27b77368876cb7b" FOREIGN KEY ("order_id") REFERENCES "transactional"."orders"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "transactional"."sessions_product_catalogs_map" ADD CONSTRAINT "FK_ca9022b17aa0ac3fc611e26c7f6" FOREIGN KEY ("product_catalog_id") REFERENCES "transactional"."product_catalogs"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "transactional"."sessions_product_catalogs_map" ADD CONSTRAINT "FK_c0be140681442e6f2a3e5b1b90a" FOREIGN KEY ("session_id") REFERENCES "transactional"."sessions"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "transactional"."sessions_delivery_option_groups_map" ADD CONSTRAINT "FK_d3e57527080e1da3194fe569772" FOREIGN KEY ("session_id") REFERENCES "transactional"."sessions"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "transactional"."sessions_delivery_option_groups_map" ADD CONSTRAINT "FK_c6d2e25bd6ec7e28ea72a19bfe0" FOREIGN KEY ("delivery_option_group_id") REFERENCES "transactional"."delivery_option_groups"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "transactional"."product_crosssells_products_map" ADD CONSTRAINT "FK_f728147c541f25b4012a4b8d9a7" FOREIGN KEY ("product_id") REFERENCES "transactional"."products"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "transactional"."product_crosssells_products_map" ADD CONSTRAINT "FK_bf16abbf86c4f9dcaa7bee3615e" FOREIGN KEY ("product_crosssell_id") REFERENCES "transactional"."product_crosssells"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "transactional"."product_catalogs_products_map" ADD CONSTRAINT "FK_4ab545eb2b4cebf1bd0c580f2fc" FOREIGN KEY ("product_id") REFERENCES "transactional"."products"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "transactional"."product_catalogs_products_map" ADD CONSTRAINT "FK_425841fde14893607561d02d425" FOREIGN KEY ("product_catalog_id") REFERENCES "transactional"."product_catalogs"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "transactional"."delivery_option_groups_delivery_options_map" ADD CONSTRAINT "FK_a5c09c8c77976a30f560303a7ca" FOREIGN KEY ("delivery_option_id") REFERENCES "transactional"."delivery_options"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "transactional"."delivery_option_groups_delivery_options_map" ADD CONSTRAINT "FK_87bba13d85cde654dbe40156ce3" FOREIGN KEY ("delivery_option_group_id") REFERENCES "transactional"."delivery_option_groups"("id") ON DELETE CASCADE ON UPDATE CASCADE`);
        await queryRunner.query(`ALTER TABLE "transactional"."promo_codes" ADD CONSTRAINT "FK_98dcaf14558d13f98e1892b0231" FOREIGN KEY ("order_id") REFERENCES "transactional"."orders"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "transactional"."promo_codes" ADD CONSTRAINT "FK_661c8ba3e4b0a06d4d674be9afd" FOREIGN KEY ("campaign_id") REFERENCES "transactional"."promo_code_campaigns"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "admin"."order_published_photos" ADD CONSTRAINT "FK_92f26e2487366389647a05a0696" FOREIGN KEY ("subject_id") REFERENCES "transactional"."subjects"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "admin"."order_published_photos" ADD CONSTRAINT "FK_1b0fe441f520a4f3963e60ba4ee" FOREIGN KEY ("order_id") REFERENCES "transactional"."orders"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "transactional"."orders" ADD CONSTRAINT "FK_888a3cde613b4715d58b6fe3f50" FOREIGN KEY ("delivery_option_id") REFERENCES "transactional"."delivery_options"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "transactional"."orders" ADD CONSTRAINT "FK_4a911af0c90c68d0d98e491cc53" FOREIGN KEY ("session_id") REFERENCES "transactional"."sessions"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "transactional"."orders" ADD CONSTRAINT "FK_382ec81f8325ade1575566bc247" FOREIGN KEY ("contact_id") REFERENCES "transactional"."contacts"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "transactional"."transactions" ADD CONSTRAINT "FK_3cb0558ed36997f1d9ecc1118e7" FOREIGN KEY ("order_id") REFERENCES "transactional"."orders"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "transactional"."subject_groups" ADD CONSTRAINT "FK_63303b125c10fbf6b8b68746dff" FOREIGN KEY ("session_id") REFERENCES "transactional"."sessions"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "admin"."order_statuses" ADD CONSTRAINT "FK_3ea5b2fdf48f16b209b65e73812" FOREIGN KEY ("order_id") REFERENCES "transactional"."orders"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "admin"."order_checks" ADD CONSTRAINT "FK_8d768c9bb463fa40aaeaec3183a" FOREIGN KEY ("subject_id") REFERENCES "transactional"."subjects"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "admin"."order_checks" ADD CONSTRAINT "FK_0d991e7d5a39ab52a4fb0d796d0" FOREIGN KEY ("order_id") REFERENCES "transactional"."orders"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "transactional"."subjects" ADD CONSTRAINT "FK_1641cb1733f8c5e8fa1ddc48428" FOREIGN KEY ("session_id") REFERENCES "transactional"."sessions"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "transactional"."products" ADD CONSTRAINT "FK_c2ef038c5b16485c916206e6614" FOREIGN KEY ("custom_id") REFERENCES "transactional"."product_type_customs"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "transactional"."products" ADD CONSTRAINT "FK_9a5f6868c96e0069e699f33e124" FOREIGN KEY ("category_id") REFERENCES "transactional"."product_categories"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "transactional"."products" ADD CONSTRAINT "FK_02f7c9972c12ee9a155bcb53775" FOREIGN KEY ("theme_id") REFERENCES "transactional"."product_type_themes"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "transactional"."product_type_customs" ADD CONSTRAINT "FK_0c931c72554324eea0d7aea4dd4" FOREIGN KEY ("custom_template_id") REFERENCES "transactional"."product_custom_templates"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "transactional"."product_type_themes" ADD CONSTRAINT "FK_e66dc8fbd7083da0f9394451a38" FOREIGN KEY ("theme_set_id") REFERENCES "transactional"."product_theme_sets"("id") ON DELETE SET NULL ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "admin"."order_assignments" ADD CONSTRAINT "FK_3bd89f7a0b002650a06fe8b8797" FOREIGN KEY ("user_id") REFERENCES "admin"."users"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "admin"."order_assignments" ADD CONSTRAINT "FK_2879b5a864ad805fe7332f68346" FOREIGN KEY ("order_id") REFERENCES "transactional"."orders"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    }

}
